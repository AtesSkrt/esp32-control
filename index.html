<!DOCTYPE html>
<html>
<head>
<!-- Firebase v8 CDN (Compatible with old syntax) -->
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-firestore.js"></script>
</head>
<body>

<h2>Global ESP32 Remote Button</h2>
<button onclick="sendCommand()">Send Trigger</button>

<script>
// Firebase Config
const firebaseConfig = {
  apiKey: "AIzaSyAixsnmYpRfdWaoBO27jefNZGaMbWc-ziQ",
  authDomain: "espcontrol-944ef.firebaseapp.com",
  projectId: "espcontrol-944ef",
  storageBucket: "espcontrol-944ef.firebasestorage.app",
  messagingSenderId: "319706537106",
  appId: "1:319706537106:web:b5b09cbe2cd91920991a4b",
  measurementId: "G-WN47BTRXBZ"
};

// Initialize Firebase (v8 global namespace)
firebase.initializeApp(firebaseConfig);
const db = firebase.firestore();

// Send trigger to Firestore
function sendCommand() {
  db.collection("control").doc("command").set({
    button: "pressed"
  })
  .then(() => console.log("Command sent"))
  .catch(err => console.error(err));
}
</script>

</body>
</html>
